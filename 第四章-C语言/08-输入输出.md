# 输入输出

C语言无I/O语句, I/O操作由函数实现

**输入输出函数在头文件 stdio.h 中**

## 一、输出

### 1.1 字符输出函数
1. `int putchar(int c)`
  * 参数: c是字符常量、字符变量或表达式
  * 功能: 将一个字符c输出显示到控制台
  * 返回值: 成功, 返回输出字符的ASCII值

### 1.2 格式输出
1. `printf(format, 输出数据列表)`
  * 功能: 按指定格式在控制台数据数据
  * 参数:
      * format: 输出的格式(包含两种信息)
        * 格式说明: %[修饰符]格式符, 用于指定输出格式
        * 普通字符: 原样输出
      * 输出列表: format中有几个%就要提供多少个输出数据

**格式符**:

|格式符|作用|
|:---:|:---:|
|`d` `i`|十进制整数|
|`x` `X`|十六进制无符号整数|
|`o`|八进制无符号整数|
|`u`|无符号十进制整数|
|`c`|单一字符|
|`s`|字符串|
|`e` `E`|指数形式浮点数|
|`f`|小数形式浮点数|
|`g`|e和f中较短的一种|
|`p`|以16进制形式输出指针|
|`%%`|输出%|

**附加格式**:

|字符|作用|
|:---:|:---:|
|`l`|附加在d u x o前表示长整型(long); 附加在f e g前表示双精度浮点数(double)|
|`h`|附加在d u x o前表示短整型(short)|
|`-`|左对齐|
|`+`|有符号数在前显示正负号|
|`0`|数字0, 将输出的前面补上0直到占满指定列宽为止; 不可以搭配使用`-`|
|`m`|数据的最小宽度, 是一个整数; 数据长度小于m, 在数据左边用空格补齐; 数据长度大于或m, 按原样输出|
|`m.n`|m指域宽, 即对应的输出项在输出设备上所占的字符数(可以省略不写). n指精度, 用于说明输出的实型数的小数位数， 对数值型的来说, 未指定n时, 隐含的精度为n=6位; 输出字符串时, 表示从左到右截取n个字符|
|`#`|在八进制和十六进制数前补充`0`和`0x`|

### 1.3 字符串输出
1. `int puts(const char *s)`
  * 功能: 在控制台输出字字符串s(输出完成后, 换行)
  * 参数: 
    1. s: 字符串首地址
  * 返回值:
    1. 成功: 返回一个非负数
    2. 失败: 返回-1


## 二、输入

### 2.1 字符输入函数
1. `int getchar()`
  * 功能: 从键盘读入一个字符
  * 返回值: 成功; 返回读取字符的ASCII值. 出错或结束键盘输入(ctrl+d); 返回-1


### 2.2 格式输入
1. `scanf("format", 地址列表)`
  * 功能: 按指定格式从键盘读入数据, 存入地址列表指定的地址。**按回车键结束输入**
  * 参数: format和输出时的format一致(普通字符要人为输入), 地址表: `&变量名` 组成的地址列表(运算符: & 作用表示取地址)
    * 字符数据输入时,空格和转义字符作为有效字符输入
    * 输入字符串时由于无法知道字符串的的大小, 容易导致字符数组越界(缓冲区溢出)的情况。且不能输入空格。
    * 数值类型数据输入时, 空格和转义字符均可以当作分隔符
  * 返回值: 成功输入; 返回输入数据的个数。
  
  * 执行scanf()输入函数输入的数据, 会优先存放在输入缓冲区; 如果输入数据与format
  格式相匹配, scanf()才会将数据取走并赋值给变量。如果输入数据与format格式部匹配,
  缓冲区依旧会报存输入错误的值, 如果接下来有一个匹配的format格式的输入, 就会获得
  获得上一次输入数据.

**format格式修饰符**: 

|修饰符|作用|
|:---:|:---:|
|`h`|附加在d u x o前表示短整型(short)|
|`l`|附加在d u x o前表示长整型(long); 附加在f e g前表示双精度浮点数(double)|
|`m`|指定输入数据宽度, 遇空格或不可转换字符结束|
|\*|抑制符, 指定输入向读入后部副给变量|


2. 输入垃圾处理

* 使用scanf函数输入一个数值数据后, 我们需要输入分隔来结束输入。这时这个分隔符可能会影响到下一次字符型数据的输入。
则分隔字符为垃圾数据。
* 输入缓冲区数据没被使用

**清除方法**:
1. 用getchar()函数清除
  * 在scanf()函数后面添加一个getchar()函数用于接受回车
2. 使用空格人为添加分隔符或`%*c`来抑制输入清除垃圾
  * 在scanf()函数的输入格式(format)中添加空格或`%*c`用于接收分隔符号
3. 如果输入到输入缓冲区的数据没有被使用, 就需要清空输入缓冲区, 使用
对应数据类型的输入函数接受没有被使用的数据, 达到清空缓冲区的作用。


### 2.3 字符串的输入
1. `char *gets(char *s)`
  * 功能: 从键盘输入一个以回车结束的字符串放入字符数组中, 并自动添加'\0'
  * 说明
    1. 输入长度应该小于字符数组维数
    2. 与scanf()函数不同, gets()函数不以空格作为字符串输入结束标志。
  * 参数: 
    1. s: 字符串首地址
  * 返回值:
    1. 成功: 返回输入字服串
    2. 失败: NULL

  * **注意**: gets()无法知道字符串s大小，必须遇到换行符或读到文件结尾为止才接收输入，因此容易导致字符数组越界(缓冲区溢出)的情况

