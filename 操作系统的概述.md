# 一、操作系统概述
操作系统(Operating System, OS)是计算机系统中必不可少的核心系统软件，其他软件(编辑软件、汇编软件、编译软件、数据库管理软件等系统软件，以及大量的应用软件)是建立在操作系统的基础之上，并在操作系统的统一管理和支持下允许。

操作系统是用户与计算机之间的接口，用户可以通过操作系统提供的功能访问计算系统中的软硬件功能。所以，操作系统是 **指控制和管理整个计算机系统的硬件和软件资源，并合理地组织调度计算机的工作和资源的分配，以提供各用户和其他软件方便的接口和环境的程序集合**。
## 1.1 操作系统的特征
操作系统是一种特殊的系统软件，其特征是 **并发性、共享性、虚拟性和异步性** 。

1. **并发(Concurrence)** 

    指两个或多个事件 **同一时间间隔** 内发生。具体是指计算机系统中同时存在多个允许的程序，操作系统具有处理和调度多个程序同时执行的能力。**引入进程**目的在于使程序能并发执行
    * **注意**
        * 并发: 同一时间间隔内发生
        * 并行: 同一时刻发生
    * 操作系统的并发性使通过**分时**实现的
        * 一段时间内，在宏观上，可以有多个程序执行
        * 但是对于单核处理环境下，每一个时刻只能有一道程序执行。
        * 所以，微观上，多程序的执行还是通过分时交替执行

2. **共享(Sharing)**
    
    资源共享，指系统中的资源可以供内存中多个并发执行的进程共同使用。有两种共享方式
    * **互斥共享**: 一段时间只允许一个进程访问该资源。例如打印机等，需要保证数据完整性的资源。
    * **同时访问**: 允许一段时间内由多个进程同时访问该资源。往往指宏观上的同时访问，而微观上，这些进程可能是交替进行(分时共享)访问的。例如：对磁盘的访问。

**并发和共享是操作系统最基本的特征**，又互为存在条件
* 资源共享是以程序的并发为条件的；系统不允许并发，则资源就不存在共享
* 系统不能对资源共享实施有效管理，则将影响程序并发执行，甚至不能并发。

3. **虚拟性(Virtual)**

    指把一个物理上的实体变成若干个逻辑上的对应物。物理实体是实际存在的设备，逻辑对应物是用户感觉上的事物。 **虚拟技术是用于实现虚拟的技术**。操作系统中利用多种虚拟技术，分别用来虚拟处理器、虚拟内存和虚拟外部设备等。
    * 虚拟处理器技术，通过多道程序设计技术，让多道程序并发执行的方法，来分时使用一个处理器。可以使一个处理器，同时给多个用户服务。让每个用户都感觉有CPU在为他服务。
    * 虚拟存储器技术，将物理存储器变为虚拟存储器，以便于在逻辑上来扩充存储器容量。
    * 虚拟设备技术，将一台I/O设备虚拟为多台逻辑上的I/O设备，并允许每个用户占用一台逻辑上的I/O设。这样可以在一段时间内，允许多个用户同时输入。
    
4. **异步(Asynchronism)**

    多道程序环境下，允许多个程序并发执行，由于资源限制，进程执行将会走走停停，以不可预知的速度向前推进，这就是进程的异步性。
    
    异步使得操作系统运行在一种随机环境下，可能导致进程产生与时间有关的错误。操作系统必须保证在相同的运行环境下，获得相同的结果。

## 1.2 操作系统的功能与作用
操作系统有效的组织和管理系统中的各种软硬件资源，合理的组织计算机系统工作流程，控制程序的执行，并且给用户提供一个良好的工作环境和友好的接口。

为了能给多道程序提供良好的运行环境，操作系统需要以下功能：**进程管理、文件管理、存储管理、设备管理、作业管理**

为了方便用户使用操作系统，还必须像用户提供接口。操作系统可以用来扩充机器，以提供方便的服务、更高的资源利用。

1. **操作系统作为资源管理者**
    * 进程管理: 实质上是对处理机的执行"时间"进行管理，采用多道程序等技术将CPU的时间合理分配给每个任务。主要包括:**进程控制、进程同步、进程通信、进程调度**
    * 文件管理: 包括文件 **存储空间管理、目录管理、文件的读写管理、存取控制** 
    * 存储管理：对主存储器"空间"进行管理，包括**存储分配与回收、存储保护、地址映射(变换)、主存扩充**
    * 设备管理: 对硬件设备管理，包括**输入输出设备分分配、启动、完成、回收**
    * 作业管理：包括任务、界面管理、人机互动、图形界面、语音控制、虚拟现实等

2. **操作系统作为用户与计算机硬件系统之间的接口**

    为了方便用户使用计算机，操作系统提供了用户接口。主要分为**命令接口和程序接口**；命令接口是用户利用操作命令来组织和控制作业的执行，程序接口可以用来请求操作系统服务。

    命令接口进行作业控制有两种方式：**联机命令接口和脱机命令接口**
    * 联机命令接口，又称交互式命令接口，适用于**分时或实时**操作系统的接口。用户通过终端控制台输入操作命令，像系统提交服务请求。
    * 脱机命令接口，又称批处理命令接口，适用于**批处理系统**，由一组作业控制命令组成。脱机用户不能干预作业的运行，需要事先用作业控制命令编写作业操作说明书，连同作业一起提交给系统。

    程序接口是由一组 **系统调用命令** (系统调用，也称广义指令)组成。用户通过程序中的系统调用命令来请求操作系统的服务。

图形用户界面(GUI)使用鼠标和键盘能够方便的发起系统调用从而方便的使用操作系统。GUI不是操作系统的一部分，而图形接口调用的系统调用命令是属于操作系统的。

### 1.3 操作系统的分类

操作系统分为批处理操作系统、分时操作系统、实时操作系统、网络操作系统、分布式操作系统、微机操作系统、嵌入式操作系统等。

1. 批处理操作系统
    批处理操作系统分为**单道批处理和多道批处理操作系统**
    * 单道批处理操作系统。指一次只有一个作业装入内存执行。作业是由**用户程序、数据、作业说明书(作业控制语言)三部分组成**。当 **一个作业运行结束后，将自动调入同批的下一个作业，** 从而节省了作业与作业之间的人工干预的时间，提高资源利用率。

    * 多道批处理操作系统。允许多个作业装入内存执行，在任意时刻，作业都处于开始的和终止点之间。每当允许中的作业需要进行I/O操作时，就将CPU交给另一道作业运行。从而 **将主机与外设之间的工作由串行变为并行** 。节省了主机等待外设的时间。特点是**多道、宏观上并行、微观上串行**

2. 分时操作系统

    一个计算机系统与多个终端设备连接。分时操作系统将CPU工作时间划分为很多短的时间片，轮流为各个终端进行服务。特点: **多路性、独立性、交互性、及时性**

3. 实时操作系统

    对外来信息能够足够快的速度进行处理，并在被控制的时间范围内做出快速反应。交互能力要求不高但是可靠性由保障。为了提高系统响应时间， **对随机发生的外部事件应及时做出相应并对其进行处理** 。
    
    实现操作系统主要分为**实时控制系统和实时信息处理系统**。其中，实时控制系统主要用于数据采集、武器控制等；实时信息处理系统主要用于订票系统、情报检索系统等。
    与分时操作系统的不同：
    * 系统设计目标不同，分时操作系统设计成一个多用户的操作系统，交互能力强；实时操作系统大多都是专用系统
    * 交互性的强弱不同。分时操作系统是多用户通用操作系统，交互能力强；实时操作系统是专用系统，仅允许操作和访问有限的专用程序，不能随意修改，交互能力差
    * 响应时间的敏感程度不同，分时系统以用户能够接受的等待时间为系统的设计依据，而实时系统是以被检测物体能够接受的延迟为系统设计依据。实时系统对响应时间的敏感度更高。

4. 网络操作系统

使联网计算机能方便而有效的共享网络资源，为网络用户提供各种服务的软件和有关协议集合。功能主要有**高效、可靠的网络通信；共享资源的有效管理；提供电子邮件、文件传输、共享硬盘和打印机等服务；网络安全管理；提供互操作的能力**

5. 分布式操作系统

有多个分散的计算机连接而成的计算机系统。系统中计算中没有主次之分，任意两台计算机可以通过通信交换信息。**分布式计算机系统配置的操作系统称为分布式操作系统**。

分布式操作系统能够 **直接对系统中各类资源进行动态分配和调度、任务划分、信息传输协调工作** ，并为用户提供统一的界面，标准的接口，用户通过界面实现需要的操作和使用系统资源；使系统中若干台计算机相互协作完成共同的任务，有效控制和协调诸任务彬县执行，并向系统提供统一、有效的接口的软件集合。

分布式操作系统是网络操作系得更高形式，保持网络操作系统拥有得所有功能，同时又有 **透明性、可靠性、高性能** 等特性

6. 微机操作系统

目前使用最为广泛得操系统，应用于文字处理、电子表格、游戏等。常见得有Windows、Linux、Macintosh等。

7. 嵌入式操作系统

能够允许在嵌入式智能芯片环境中，对整个芯片以及它所有操作、控制得各种部件装置等资源进行统一协调、处理、指挥和控制。特点如下:

   * 微型化：从性能和成本考虑，占用资源少、系统代码量少
   * 可定制：从减少成本、缩短研发周期考虑，能够允许在不同得处理器平台，能够对硬件变化进行结构和功能上得配置
   * 实时性：嵌入式操作系统主要用于控制、数据采集、传输通信、多媒体信息及关键要害领域需要迅速响应得场合。
   * 可靠性：系统构件、模块、体系结构必须达到应有得可靠性，对关键应用还要提供容错和故障防控措施
   * 易移植：通常采用硬件抽象层和扳级支撑包得底层设计技术。

操作系统发展得三个原因
* 硬件得不断升级和新硬件产品得出现
* 新得服务需求
* 修补操作系统自身错误